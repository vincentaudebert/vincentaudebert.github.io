<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<title> Iframe & Windows 8.1 metro app </title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<link rel="author" href="/humans.txt">
		<meta name="description" content="Description Goes Here">
		<link rel="stylesheet" href="/css/style.css">
		<!--[if IE 7]>
			<html class="ie7"> 
			<link rel="stylesheet" type="text/css" href="/css/font-awesome-ie7.min.css">
		<![endif]-->
		<!--[if IE 8]><html class="ie8"> <![endif]-->		
	    <!--[if lt IE 9]>
	      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	    <![endif]-->

		<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/ico/apple-touch-icon-144-precomposed.png">
		<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/ico/apple-touch-icon-114-precomposed.png">
		<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/ico/apple-touch-icon-72-precomposed.png">
		<link rel="apple-touch-icon-precomposed" href="/ico/apple-touch-icon-57-precomposed.png">
		<link rel="shortcut icon" href="/ico/favicon.ico">
		
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-2208857-7', 'auto');
		  ga('require', 'displayfeatures');
		  ga('send', 'pageview');
		</script>	
	</head>
	<body>
	<!-- Header
	    ================================================== -->
	<header> 

	</header>

	<main class="content">
    <section class="container">
    	<div class="row-fluid">
    		<article class="home-icon">
				<a href="/">
					<i class="icon-home"></i> 
				</a>
			</article>
			<article class="post">
				<h2 class="content">Iframe & Windows 8.1 metro app</h2>
				<h5>16 July 2014</h5>
				<section>
					<p>Let’s start this blog with the problem which gave me the idea of starting it.</p>

<p>I’m a web developer currently working for a startup called <a href="http://www.showcaseworkshop.com">Showcase Workshop</a>. While I was programming for our Windows 8 app I faced a problem when I needed to integrate HTML page in an iframe.</p>

<p>Basically, I had a HTML page coming for my local cache (<code>ms-appdata</code>) and I could not load it in an <code>iframe</code> using something like this:</p>

<p><code>&lt;iframe src=”ms-appdata:///local/index.html”&gt;&lt;/iframe&gt;</code></p>

<p>I was getting a blank iframe. Then I tried with a web context iframe:</p>

<p><code>&lt;iframe src=”ms-appx-web:///local/index.html”&gt;&lt;/iframe&gt;</code></p>

<p>Unfortunately, <code>ms-appx-web</code> can’t access to a local resource but only to resources in the app package. So I was getting a black iframe…</p>

<p>After a bit of googling I found this page: <a href="http://blogs.windows.com/windows/b/appbuilder/archive/2013/07/17/what-s-new-in-webview-in-windows-8-1.aspx">http://blogs.windows.com/windows/b/appbuilder/archive/2013/07/17/what-s-new-in-webview-in-windows-8-1.aspx</a></p>

<p>Finally, I made it work with:</p>

<p><code>&lt;x-ms-webview src=”ms-appdata:///local/index.html”&gt;&lt;/x-ms-webview&gt;</code></p>

<p>You can find <code>x-ms-webview</code> documentation here: <a href="http://msdn.microsoft.com/en-us/library/windows/apps/dn301831.aspx">http://msdn.microsoft.com/en-us/library/windows/apps/dn301831.aspx</a></p>

<p>N.B.: You might want to add this tag directly with jQuery but then you will get the famous security exception:</p>

<blockquote>
  <p>0x800c001c — JavaScript runtime error:
Unable to add dynamic content. A
script attempted to inject dynamic
content, or elements previously
modified dynamically, that might be
unsafe. For example, using the
innerHTML property to add script or
malformed HTML will generate this
exception. Use the toStaticHTML method
to filter dynamic content, or
explicitly create elements and
attributes with a method such as
createElement. For more information,
see
<a href="http://go.microsoft.com/fwlink/?LinkID=247104">http://go.microsoft.com/fwlink/?LinkID=247104</a>.</p>
</blockquote>

<p>I recommend to put <code>x-ms-webview</code> in hard in your HTML code with <code>display:none;</code> and then dynamically set the right <code>src</code> and display it when needed.</p>


					<hr>
				</section>
				<section style="margin-bottom: 2em;">
					
						 
							<a rel="next" style="float:right" class="a-hover"href="/2014/08/21/angularjs-1-2-checkall-uncheckall.html">AngularJS 1.2 - checkAll/uncheckAll <i class="icon-arrow-right"></i></a>
					
				</section>
			</article>
		</div>
	</section>
</main>


	<footer>
		<div class="container">
			<a href="http://vatweb.fr">VatWeb</a> | Copyright Vincent Audebert
		</div>
	</footer>

	<!-- Footer
	    ================================================== -->

	<!-- Javascripts 
	    ================================================= -->
	<script src="/js/jquery.min.js"></script>
	<script src="/js/custom.js"></script>

    <!-- Analytics
    ================================================== -->
    
	</body>
</html>
